%This file evaluates the gradients of the glider dynamics
%w.r.t. to the state vector (x) and the command vector (u)
%This is an auto-generated file (see gen_grads.m 
%in class @glider) 

% NOTEST

function df = glider_grads(obj,t,x,u)
%glider parameters
m=obj.m; g=obj.g; rho=obj.rho; S_w=obj.S_w; 
S_e=obj.S_e; I=obj.I; l_h=obj.l_h; l_w=obj.l_w; l_e=obj.l_e; 

%current state
q1 = x(1);
q2 = x(2);
q3 = x(3);
q4 = x(4);
qdot1 = x(5);
qdot2 = x(6);
qdot3 = x(7);

%symbolic gradients
dfdx11 = 0;
dfdx12 = 0;
dfdx13 = 0;
dfdx14 = 0;
dfdx15 = 1;
dfdx16 = 0;
dfdx17 = 0;

dfdx21 = 0;
dfdx22 = 0;
dfdx23 = 0;
dfdx24 = 0;
dfdx25 = 0;
dfdx26 = 1;
dfdx27 = 0;

dfdx31 = 0;
dfdx32 = 0;
dfdx33 = 0;
dfdx34 = 0;
dfdx35 = 0;
dfdx36 = 0;
dfdx37 = 1;

dfdx41 = 0;
dfdx42 = 0;
dfdx43 = 0;
dfdx44 = 0;
dfdx45 = 0;
dfdx46 = 0;
dfdx47 = 0;

dfdx51 = 0;
dfdx52 = 0;
dfdx53 = 1/m*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(1/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + (l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(1/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + (l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(2*(l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*(l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*l_w*qdot3*cos(q3)*(qdot1 - l_w*qdot3*sin(q3)) + 2*l_w*qdot3*sin(q3)*(qdot2 + l_w*qdot3*cos(q3)))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*((l_w*qdot3*sin(q3)/(qdot1 - l_w*qdot3*sin(q3)) - l_w*qdot3*cos(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1) + 1)*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*((l_w*qdot3*sin(q3)/(qdot1 - l_w*qdot3*sin(q3)) - l_w*qdot3*cos(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1) + 1)*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(1/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + (l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*((l_w*qdot3*sin(q3)/(qdot1 - l_w*qdot3*sin(q3)) - l_w*qdot3*cos(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1) + 1)*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*l_w*qdot3*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*cos(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(2*(l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*(l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*l_w*qdot3*cos(q3)*(qdot1 - l_w*qdot3*sin(q3)) + 2*l_w*qdot3*sin(q3)*(qdot2 + l_w*qdot3*cos(q3)))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*l_w*qdot3*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2));
dfdx54 = -1/m*(S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((l_e*sin(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + l_e*cos(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(2*l_e*cos(q3 + q4)*(qdot3 + u)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*l_e*sin(q3 + q4)*(qdot3 + u)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((l_e*sin(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + l_e*cos(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*((l_e*sin(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + l_e*cos(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + S_e*l_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*cos(q3 + q4)*(qdot3 + u)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(2*l_e*cos(q3 + q4)*(qdot3 + u)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*l_e*sin(q3 + q4)*(qdot3 + u)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*l_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4)*(qdot3 + u)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2));
dfdx55 = -1/m*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*qdot1 + 2*l_h*qdot3*sin(q3) + 2*l_e*sin(q3 + q4)*(qdot3 + u))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*qdot1 - 2*l_w*qdot3*sin(q3))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 - 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*qdot1 + 2*l_h*qdot3*sin(q3) + 2*l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*qdot1 - 2*l_w*qdot3*sin(q3))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)));
dfdx56 = -1/m*(S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*qdot2 + 2*l_w*qdot3*cos(q3))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(2*l_h*qdot3*cos(q3) - 2*qdot2 + 2*l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))*(2*l_h*qdot3*cos(q3) - 2*qdot2 + 2*l_e*cos(q3 + q4)*(qdot3 + u)) - S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*qdot2 + 2*l_w*qdot3*cos(q3))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)));
dfdx57 = -1/m*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(l_e*sin(q3 + q4) + l_h*sin(q3))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - S_w*l_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*sin(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(l_e*cos(q3 + q4) + l_h*cos(q3))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*(l_e*sin(q3 + q4) + l_h*sin(q3))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*(l_e*cos(q3 + q4) + l_h*cos(q3))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*l_w*cos(q3)*(qdot2 + l_w*qdot3*cos(q3)) - 2*l_w*sin(q3)*(qdot1 - l_w*qdot3*sin(q3)))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_e*cos(q3 + q4) + l_h*cos(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - (l_e*sin(q3 + q4) + l_h*sin(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*l_w*cos(q3)*(qdot2 + l_w*qdot3*cos(q3)) - 2*l_w*sin(q3)*(qdot1 - l_w*qdot3*sin(q3)))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_e*cos(q3 + q4) + l_h*cos(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - (l_e*sin(q3 + q4) + l_h*sin(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*(l_e*sin(q3 + q4) + l_h*sin(q3))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*(l_e*cos(q3 + q4) + l_h*cos(q3))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(l_w*cos(q3)/(qdot1 - l_w*qdot3*sin(q3)) + l_w*sin(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(l_w*cos(q3)/(qdot1 - l_w*qdot3*sin(q3)) + l_w*sin(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*l_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*cos(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(l_w*cos(q3)/(qdot1 - l_w*qdot3*sin(q3)) + l_w*sin(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_e*cos(q3 + q4) + l_h*cos(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - (l_e*sin(q3 + q4) + l_h*sin(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)));

dfdx61 = 0;
dfdx62 = 0;
dfdx63 = -1/m*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(2*(l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*(l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*l_w*qdot3*cos(q3)*(qdot1 - l_w*qdot3*sin(q3)) + 2*l_w*qdot3*sin(q3)*(qdot2 + l_w*qdot3*cos(q3)))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*((l_w*qdot3*sin(q3)/(qdot1 - l_w*qdot3*sin(q3)) - l_w*qdot3*cos(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1) + 1)*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(1/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + (l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*((l_w*qdot3*sin(q3)/(qdot1 - l_w*qdot3*sin(q3)) - l_w*qdot3*cos(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1) + 1)*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(1/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + (l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*((l_w*qdot3*sin(q3)/(qdot1 - l_w*qdot3*sin(q3)) - l_w*qdot3*cos(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1) + 1)*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*l_w*qdot3*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*sin(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(2*(l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*(l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(1/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + (l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*l_w*qdot3*cos(q3)*(qdot1 - l_w*qdot3*sin(q3)) + 2*l_w*qdot3*sin(q3)*(qdot2 + l_w*qdot3*cos(q3)))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*l_w*qdot3*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*cos(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2));
dfdx64 = 1/m*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((l_e*sin(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + l_e*cos(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((l_e*sin(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + l_e*cos(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(2*l_e*cos(q3 + q4)*(qdot3 + u)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*l_e*sin(q3 + q4)*(qdot3 + u)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(2*l_e*cos(q3 + q4)*(qdot3 + u)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*l_e*sin(q3 + q4)*(qdot3 + u)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*l_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*sin(q3 + q4)*(qdot3 + u)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*((l_e*sin(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + l_e*cos(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*l_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*cos(q3 + q4)*(qdot3 + u)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2));
dfdx65 = 1/m*(S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*qdot1 + 2*l_h*qdot3*sin(q3) + 2*l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*qdot1 - 2*l_w*qdot3*sin(q3))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*qdot1 + 2*l_h*qdot3*sin(q3) + 2*l_e*sin(q3 + q4)*(qdot3 + u))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*qdot1 - 2*l_w*qdot3*sin(q3))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 - 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2));
dfdx66 = -1/m*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))*(2*l_h*qdot3*cos(q3) - 2*qdot2 + 2*l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*qdot2 + 2*l_w*qdot3*cos(q3))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(2*l_h*qdot3*cos(q3) - 2*qdot2 + 2*l_e*cos(q3 + q4)*(qdot3 + u)) - 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*qdot2 + 2*l_w*qdot3*cos(q3))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)));
dfdx67 = 1/m*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(l_e*cos(q3 + q4) + l_h*cos(q3))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*(l_e*sin(q3 + q4) + l_h*sin(q3))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*(l_e*cos(q3 + q4) + l_h*cos(q3))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - S_w*l_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*cos(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*l_w*cos(q3)*(qdot2 + l_w*qdot3*cos(q3)) - 2*l_w*sin(q3)*(qdot1 - l_w*qdot3*sin(q3)))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(l_e*sin(q3 + q4) + l_h*sin(q3))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*l_w*cos(q3)*(qdot2 + l_w*qdot3*cos(q3)) - 2*l_w*sin(q3)*(qdot1 - l_w*qdot3*sin(q3)))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(l_w*cos(q3)/(qdot1 - l_w*qdot3*sin(q3)) + l_w*sin(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(l_w*cos(q3)/(qdot1 - l_w*qdot3*sin(q3)) + l_w*sin(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_e*cos(q3 + q4) + l_h*cos(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - (l_e*sin(q3 + q4) + l_h*sin(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_e*cos(q3 + q4) + l_h*cos(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - (l_e*sin(q3 + q4) + l_h*sin(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*(l_e*sin(q3 + q4) + l_h*sin(q3))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*(l_e*cos(q3 + q4) + l_h*cos(q3))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_w*l_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_e*cos(q3 + q4) + l_h*cos(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - (l_e*sin(q3 + q4) + l_h*sin(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(l_w*cos(q3)/(qdot1 - l_w*qdot3*sin(q3)) + l_w*sin(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2));

dfdx71 = 0;
dfdx72 = 0;
dfdx73 = -1/I*((l_e*cos(q3 + q4) + l_h*cos(q3))*(1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(2*(l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*(l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(1/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + (l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(1/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + (l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(2*(l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*(l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(1/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + (l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) + (l_e*cos(q3 + q4) + l_h*cos(q3))*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - (l_e*sin(q3 + q4) + l_h*sin(q3))*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))) + (l_e*sin(q3 + q4) + l_h*sin(q3))*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(1/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + (l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(2*(l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*(l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(1/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + (l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(1/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + (l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(2*(l_h*qdot3*cos(q3) + l_e*cos(q3 + q4)*(qdot3 + u))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*(l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) + l_w*sin(q3)*(1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*l_w*qdot3*cos(q3)*(qdot1 - l_w*qdot3*sin(q3)) + 2*l_w*qdot3*sin(q3)*(qdot2 + l_w*qdot3*cos(q3)))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*((l_w*qdot3*sin(q3)/(qdot1 - l_w*qdot3*sin(q3)) - l_w*qdot3*cos(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1) + 1)*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*((l_w*qdot3*sin(q3)/(qdot1 - l_w*qdot3*sin(q3)) - l_w*qdot3*cos(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1) + 1)*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*((l_w*qdot3*sin(q3)/(qdot1 - l_w*qdot3*sin(q3)) - l_w*qdot3*cos(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1) + 1)*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*l_w*qdot3*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*cos(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*l_w*qdot3*cos(q3)*(qdot1 - l_w*qdot3*sin(q3)) + 2*l_w*qdot3*sin(q3)*(qdot2 + l_w*qdot3*cos(q3)))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*l_w*qdot3*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2)) + l_w*cos(q3)*(S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*((l_w*qdot3*sin(q3)/(qdot1 - l_w*qdot3*sin(q3)) - l_w*qdot3*cos(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1) + 1)*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*((l_w*qdot3*sin(q3)/(qdot1 - l_w*qdot3*sin(q3)) - l_w*qdot3*cos(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1) + 1)*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*l_w*qdot3*cos(q3)*(qdot1 - l_w*qdot3*sin(q3)) + 2*l_w*qdot3*sin(q3)*(qdot2 + l_w*qdot3*cos(q3)))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*((l_w*qdot3*sin(q3)/(qdot1 - l_w*qdot3*sin(q3)) - l_w*qdot3*cos(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1) + 1)*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*l_w*qdot3*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*sin(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*l_w*qdot3*cos(q3)*(qdot1 - l_w*qdot3*sin(q3)) + 2*l_w*qdot3*sin(q3)*(qdot2 + l_w*qdot3*cos(q3)))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*l_w*qdot3*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*cos(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2)) - l_w*cos(q3)*(S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2)) - l_w*sin(q3)*(S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2)));
dfdx74 = -1/I*((l_e*cos(q3 + q4) + l_h*cos(q3))*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((l_e*sin(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + l_e*cos(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((l_e*sin(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + l_e*cos(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(2*l_e*cos(q3 + q4)*(qdot3 + u)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*l_e*sin(q3 + q4)*(qdot3 + u)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(2*l_e*cos(q3 + q4)*(qdot3 + u)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*l_e*sin(q3 + q4)*(qdot3 + u)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*l_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*sin(q3 + q4)*(qdot3 + u)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*((l_e*sin(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + l_e*cos(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*l_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*cos(q3 + q4)*(qdot3 + u)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)) + (l_e*sin(q3 + q4) + l_h*sin(q3))*(S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((l_e*sin(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + l_e*cos(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(2*l_e*cos(q3 + q4)*(qdot3 + u)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*l_e*sin(q3 + q4)*(qdot3 + u)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((l_e*sin(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + l_e*cos(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*((l_e*sin(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + l_e*cos(q3 + q4)*(qdot3 + u)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1) - 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + S_e*l_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*cos(q3 + q4)*(qdot3 + u)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(2*l_e*cos(q3 + q4)*(qdot3 + u)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - 2*l_e*sin(q3 + q4)*(qdot3 + u)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*l_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4)*(qdot3 + u)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)) + l_e*cos(q3 + q4)*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - l_e*sin(q3 + q4)*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))));
dfdx75 = -1/I*((l_e*cos(q3 + q4) + l_h*cos(q3))*(S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*qdot1 + 2*l_h*qdot3*sin(q3) + 2*l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*qdot1 + 2*l_h*qdot3*sin(q3) + 2*l_e*sin(q3 + q4)*(qdot3 + u))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2) + (l_e*sin(q3 + q4) + l_h*sin(q3))*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*qdot1 + 2*l_h*qdot3*sin(q3) + 2*l_e*sin(q3 + q4)*(qdot3 + u))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 - 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*qdot1 + 2*l_h*qdot3*sin(q3) + 2*l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - l_w*cos(q3)*(S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*qdot1 - 2*l_w*qdot3*sin(q3))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*qdot1 - 2*l_w*qdot3*sin(q3))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2)) - l_w*sin(q3)*(S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*qdot1 - 2*l_w*qdot3*sin(q3))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*qdot1 - 2*l_w*qdot3*sin(q3))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2)));
dfdx76 = 1/I*((l_e*cos(q3 + q4) + l_h*cos(q3))*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))*(2*l_h*qdot3*cos(q3) - 2*qdot2 + 2*l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(2*l_h*qdot3*cos(q3) - 2*qdot2 + 2*l_e*cos(q3 + q4)*(qdot3 + u)) + 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - (l_e*sin(q3 + q4) + l_h*sin(q3))*(S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(2*l_h*qdot3*cos(q3) - 2*qdot2 + 2*l_e*cos(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))*(2*l_h*qdot3*cos(q3) - 2*qdot2 + 2*l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) - l_w*cos(q3)*(S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*qdot2 + 2*l_w*qdot3*cos(q3))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*qdot2 + 2*l_w*qdot3*cos(q3))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2)) + l_w*sin(q3)*(S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*qdot2 + 2*l_w*qdot3*cos(q3))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*qdot2 + 2*l_w*qdot3*cos(q3))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2)));
dfdx77 = -1/I*((l_e*cos(q3 + q4) + l_h*cos(q3))*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(l_e*cos(q3 + q4) + l_h*cos(q3))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*(l_e*sin(q3 + q4) + l_h*sin(q3))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*(l_e*cos(q3 + q4) + l_h*cos(q3))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(l_e*sin(q3 + q4) + l_h*sin(q3))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_e*cos(q3 + q4) + l_h*cos(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - (l_e*sin(q3 + q4) + l_h*sin(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_e*cos(q3 + q4) + l_h*cos(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - (l_e*sin(q3 + q4) + l_h*sin(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*(l_e*sin(q3 + q4) + l_h*sin(q3))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*(l_e*cos(q3 + q4) + l_h*cos(q3))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_e*cos(q3 + q4) + l_h*cos(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - (l_e*sin(q3 + q4) + l_h*sin(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) + (l_e*sin(q3 + q4) + l_h*sin(q3))*(S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(l_e*sin(q3 + q4) + l_h*sin(q3))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(l_e*cos(q3 + q4) + l_h*cos(q3))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*(l_e*sin(q3 + q4) + l_h*sin(q3))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*(l_e*cos(q3 + q4) + l_h*cos(q3))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_e*cos(q3 + q4) + l_h*cos(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - (l_e*sin(q3 + q4) + l_h*sin(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_e*cos(q3 + q4) + l_h*cos(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - (l_e*sin(q3 + q4) + l_h*sin(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(2*(l_e*sin(q3 + q4) + l_h*sin(q3))*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*(l_e*cos(q3 + q4) + l_h*cos(q3))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*((l_e*cos(q3 + q4) + l_h*cos(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - (l_e*sin(q3 + q4) + l_h*sin(q3))/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))) + l_w*cos(q3)*(S_w*l_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*cos(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*l_w*cos(q3)*(qdot2 + l_w*qdot3*cos(q3)) - 2*l_w*sin(q3)*(qdot1 - l_w*qdot3*sin(q3)))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*l_w*cos(q3)*(qdot2 + l_w*qdot3*cos(q3)) - 2*l_w*sin(q3)*(qdot1 - l_w*qdot3*sin(q3)))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(l_w*cos(q3)/(qdot1 - l_w*qdot3*sin(q3)) + l_w*sin(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(l_w*cos(q3)/(qdot1 - l_w*qdot3*sin(q3)) + l_w*sin(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*l_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(l_w*cos(q3)/(qdot1 - l_w*qdot3*sin(q3)) + l_w*sin(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2)) - l_w*sin(q3)*(1/2*S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(2*l_w*cos(q3)*(qdot2 + l_w*qdot3*cos(q3)) - 2*l_w*sin(q3)*(qdot1 - l_w*qdot3*sin(q3)))*(qdot1 - l_w*qdot3*sin(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*l_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*sin(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + 1/2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(2*l_w*cos(q3)*(qdot2 + l_w*qdot3*cos(q3)) - 2*l_w*sin(q3)*(qdot1 - l_w*qdot3*sin(q3)))*(qdot2 + l_w*qdot3*cos(q3))/((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(l_w*cos(q3)/(qdot1 - l_w*qdot3*sin(q3)) + l_w*sin(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*rho*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))^2*(l_w*cos(q3)/(qdot1 - l_w*qdot3*sin(q3)) + l_w*sin(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot2 + l_w*qdot3*cos(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) + S_w*l_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*cos(q3)*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2) - 2*S_w*rho*cos(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*sin(q3 - atan((qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))))*(l_w*cos(q3)/(qdot1 - l_w*qdot3*sin(q3)) + l_w*sin(q3)*(qdot2 + l_w*qdot3*cos(q3))/(qdot1 - l_w*qdot3*sin(q3))^2)/((qdot2 + l_w*qdot3*cos(q3))^2/(qdot1 - l_w*qdot3*sin(q3))^2 + 1)*(qdot1 - l_w*qdot3*sin(q3))*((qdot2 + l_w*qdot3*cos(q3))^2 + (qdot1 - l_w*qdot3*sin(q3))^2)^(1/2)));

dfdx = [dfdx11 dfdx12 dfdx13 dfdx14 dfdx15 dfdx16 dfdx17 
		dfdx21 dfdx22 dfdx23 dfdx24 dfdx25 dfdx26 dfdx27 
		dfdx31 dfdx32 dfdx33 dfdx34 dfdx35 dfdx36 dfdx37 
		dfdx41 dfdx42 dfdx43 dfdx44 dfdx45 dfdx46 dfdx47 
		dfdx51 dfdx52 dfdx53 dfdx54 dfdx55 dfdx56 dfdx57 
		dfdx61 dfdx62 dfdx63 dfdx64 dfdx65 dfdx66 dfdx67 
		dfdx71 dfdx72 dfdx73 dfdx74 dfdx75 dfdx76 dfdx77 
		];

dfdu11 = 0;
dfdu21 = 0;
dfdu31 = 0;
dfdu41 = 1;
dfdu51 = -1/m*(S_e*l_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*sin(q3 + q4)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(2*l_e*sin(q3 + q4)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*l_e*cos(q3 + q4)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*(l_e*cos(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - l_e*sin(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*(l_e*cos(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - l_e*sin(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(2*l_e*sin(q3 + q4)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*l_e*cos(q3 + q4)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - S_e*l_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*cos(q3 + q4)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*(l_e*cos(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - l_e*sin(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)));
dfdu61 = 1/m*(1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(2*l_e*sin(q3 + q4)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*l_e*cos(q3 + q4)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*l_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*cos(q3 + q4)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*(l_e*cos(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - l_e*sin(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(2*l_e*sin(q3 + q4)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*l_e*cos(q3 + q4)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + S_e*l_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*(l_e*cos(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - l_e*sin(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*(l_e*cos(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - l_e*sin(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)));
dfdu71 = -1/I*((l_e*cos(q3 + q4) + l_h*cos(q3))*(1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(2*l_e*sin(q3 + q4)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*l_e*cos(q3 + q4)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*l_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*cos(q3 + q4)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) - S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*(l_e*cos(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - l_e*sin(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(2*l_e*sin(q3 + q4)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*l_e*cos(q3 + q4)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + S_e*l_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*(l_e*cos(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - l_e*sin(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*(l_e*cos(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - l_e*sin(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))) + (l_e*sin(q3 + q4) + l_h*sin(q3))*(S_e*l_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*sin(q3 + q4)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 1/2*S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2*(2*l_e*sin(q3 + q4)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*l_e*cos(q3 + q4)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*(l_e*cos(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - l_e*sin(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) + S_e*rho*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))^2/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*(l_e*cos(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - l_e*sin(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - 1/2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*(2*l_e*sin(q3 + q4)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) + 2*l_e*cos(q3 + q4)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))/((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)) - S_e*l_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*cos(q3 + q4)*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2) + 2*S_e*rho*cos(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))*sin(q3 + q4 + atan(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))))/(1/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2 + 1)*(l_e*cos(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u)) - l_e*sin(q3 + q4)/(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2*(l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u)))*((qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))^2 + (l_h*qdot3*cos(q3) - qdot2 + l_e*cos(q3 + q4)*(qdot3 + u))^2)^(1/2)*(qdot1 + l_h*qdot3*sin(q3) + l_e*sin(q3 + q4)*(qdot3 + u))));

dfdu = [dfdu11 
		dfdu21 
		dfdu31 
		dfdu41 
		dfdu51 
		dfdu61 
		dfdu71 
		];

df = {[zeros(7,1) dfdx dfdu]}; 
end 
