pods_find_pkg_config(snopt_c)
pods_find_pkg_config(bullet)
find_library(BLAS_LIBRARY NAMES blas libblas)
if(BLAS_LIBRARY AND snopt_c_FOUND AND bullet_FOUND)
  add_mex(replanFunnels_mex replanFunnels_mex.cpp)
  add_mex(isCollisionFree_mex isCollisionFree_mex.cpp)
  add_mex(ptToPolyBullet_mex ptToPolyBullet_mex.cpp)
  add_mex(shiftFunnel_qcqp_forces_mex shiftFunnel_qcqp_forces_mex.cpp)
  add_mex(shiftFunnel_snopt_mex shiftFunnel_snopt_mex.cpp)
  pods_use_pkg_config_packages(isCollisionFree_mex bullet)
  pods_use_pkg_config_packages(replanFunnels_mex snopt_c bullet)
  pods_use_pkg_config_packages(ptToPolyBullet_mex bullet)
  pods_use_pkg_config_packages(shiftFunnel_qcqp_forces_mex bullet)
  pods_use_pkg_config_packages(shiftFunnel_snopt_mex snopt_c bullet)
  target_link_libraries(replanFunnels_mex -lblas)
  target_link_libraries(shiftFunnel_qcqp_forces_mex -lblas)
  target_link_libraries(shiftFunnel_snopt_mex -lblas)
endif()

